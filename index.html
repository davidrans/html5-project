<!doctype html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="./css/style.css">
	<script src="./js/mootools-core-1.4.5-full-nocompat-yc.js" type="text/javascript"></script>
	<script src="./js/mootools-more-1.4.0.1.js" type="text/javascript"></script>
	<script src="./js/MySQLWrapper.js" type="text/javascript"></script>
	<script src="./js/iFixitDevice.js" type="text/javascript"></script>
	<script>
		/*var db = new Database();
		db.create();
		db.insert( 'Macbook Pro', 'ifixit.com/images/macbook_pro.jpg' );
		db.select( 1 );*/
		
		window.addEvent('domready', function() {
			var devices = [], offset = 0;
			
			var sortable = new Sortables('ul', {
				clone: true,
				revert: true,
				opacity: 0.7
			});
			
			var requestDevices = new Request.JSON({
					url: 'https://www.ifixit.com/api/2.0/categories/all',
					onSuccess: function(response) {
						var d;
			
						for( i = 0; i < 10; i++ )
						{
							devices.push( d = new iFixitDevice( response[i], sortable ) );
							d.getThumbnail();
						}
					}
				});
			
			$('get-more').addEvent( 'click', function() {
				requestDevices.get( {'limit': 10, 'offset': offset } );
				offset += 20;
			});
		});
	</script>
</head>
<body>
    <div id="devices">
		<h3>Devices</h3>
		<ul id="device-list"></ul>
		<button id="get-more">Get More</button>
    </div>
    <div id="middle">
    
    </div>
    <div id="gearbag">
		<h3>Gear Bag</h3>
		<ul id="gear-list"></ul>
    </div>
    <div style="clear: both;"></div>
</body>
</html>
